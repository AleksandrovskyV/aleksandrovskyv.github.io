<!DOCTYPE html>
<html lang="ru"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>wolume</title>


<link rel="icon" href="/content/fav/f_id.png" type="image/png">
<link rel="apple-touch-icon" sizes="180x180" href="/content/fav/f_w_alt.png">




<style>

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.viewport {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background:#ffffff;
  touch-action: none;
  cursor:grab;
}

.board{
position:absolute;
width:5000px;
height:5000px;
transform-origin:0 0;
}
.block{
position:absolute;
}


.block.svg {
  position: absolute;
  pointer-events: none; 
}


.block.c {
  position: absolute;
  font-family: sans-serif;
  user-select: text;
  line-height: 1.4;

  background: #fff;
  padding: 60px 80px;        /* l w */
  box-sizing: border-box;    /* ! */
  
}

.block.c .head {
  font-size: 32px;
  font-weight: 300;
  cursor: default;
}

.block.c .text {
  font-size: 24px;
  cursor: default;
}


.block.bg {
z-index: -99;
}

.image{
user-select:none;
pointer-events:auto;
}


.image img{
display:block;
width: 100%;
border-radius:0px;
user-select: none;
-webkit-user-select: none;
-webkit-user-drag: none;
}

.drag img{
user-select: none;
-webkit-user-select: none;
-webkit-user-drag: none;
}


</style>
</head>

<body>
<div class="viewport" id="viewport" style="cursor: grab;">
<div class="board" id="board" >


<div class="block image" style="left:4327px; top:676.64px;"><img src="/content/wolumes/w1.png" style="width:1067px; height:79px;"></div>
<div class="block image" style="left:5321px; top:1772.64px;"><img src="/content/wolumes/w2.png" style="width:1073px; height:420px;"></div>
<div class="block image" style="left:2700px; top:1288.64px;"><img src="/content/wolumes/w3.png" style="width:485px; height:150px;"></div>
<div class="block image" style="left:5400px; top:1048.64px;"><img src="/content/wolumes/w4.png" style="width:1080px; height:592px;"></div>
<div class="block image" style="left:2372px; top:62.64px;"><img src="/content/wolumes/w5.png" style="width:1064px; height:382px;"></div>


<div class="block c" style="left:3242px; top:250px; width:420px;">
  <div class="head">Клиенты<br>в 2016:</div>
  <div class="text"style="margin-top:12px;">
    Jekyll & Hyde Agency<br>
    Группа Little Big<br>
    Артём Осетров<br>
    Данила Поперечный<br>
    Ян Лапатков<br>
    Beeline<br>
    MTBank
  </div>

  <div class="head" style="margin-top:46px;">Команда:</div>
  <div class="text" style="margin-top:12px;">
    В. Александровский<br>
    Д. Стерхов<br>
    В. Копейкин<br>
    Д. Бережной
  </div>
</div>


<div class="block c" style="left:7160px; top:250px; width:420px;">
  <div class="head">Клиенты<br>в 2017:</div>
  <div class="text" style="margin-top:12px;">
      Spotmakers<br>
      Агентство Great<br>
      Глеб Кузнецов<br>
      AEVA<br>
      Планетарий №1<br>
      Производство Тайга
  </div>

  <div class="head" style="margin-top:46px;">Команда:</div>
  <div class="text" style="margin-top:12px;">
      В. Александровский<br>
      А. Веремьёв<br>
      Д. Стерхов<br>
      Д. Кильмухамедов<br>
      В. Копейкин
  </div>
</div>


<div class="block c" style="left:9700px; top:250px; width:420px;">
  <div class="head">Клиенты<br>в 2018:</div>
  <div class="text" style="margin-top:12px;">
      Роснефть<br>
      Мосметро<br>
      Avon Россия<br>
      Газпром<br>
      РЖД
  </div>

  <div class="head" style="margin-top:46px;">Команда:</div>
  <div class="text" style="margin-top:12px;">
      В. Копейкин<br>
      А. Веревьев<br>
      Д. Кильмухамедов<br>
      В. Александровский<br>
      А. Обухов<br>
      А. Клайд
  </div>
</div>



<div class="block image" style="left:5313px; top:1212.64px;"><img src="/content/wolumes/aiga.png" style="width:63px; height:115px;"></div>
<div class="block image" style="left:5227px; top:1212.64px;"><img src="/content/wolumes/ae.png" style="width:63px; height:115px;"></div>
<div class="block image" style="left:5142px; top:1212.64px;"><img src="/content/wolumes/mo.png" style="width:63px; height:115px;"></div>
<div class="block image" style="left:5057px; top:1212.64px;"><img src="/content/wolumes/gr.png" style="width:63px; height:115px;"></div>

<div class="block image" style="left:7751px; top:555.64px;"><img src="/content/wolumes/w6.png" style="width:207px; height:367px;"></div>
<div class="block image" style="left:7978px; top:556.64px;"><img src="/content/wolumes/w7.png" style="width:207px; height:367px;"></div>
<div class="block image" style="left:8431px; top:556.64px;"><img src="/content/wolumes/w8.png" style="width:207px; height:367px;"></div>
<div class="block image" style="left:8205px; top:556.64px;"><img src="/content/wolumes/w9.png" style="width:207px; height:367px;"></div>
<div class="block image" style="left:7978px; top:226.64px;"><img src="/content/wolumes/w10.png" style="width:661px; height:303px;"></div>
<div class="block image" style="left:7560px; top:226.64px;"><img src="/content/wolumes/w11.png" style="width:398px; height:303px;"></div>
<div class="block image" style="left:6500px; top:556.64px;"><img src="/content/wolumes/w12.png" style="width:652px; height:367px;"></div>
<div class="block image" style="left:6500px; top:65.64px;"><img src="/content/wolumes/w13.png" style="width:652px; height:303px;"></div>
<div class="block image" style="left:5828px; top:226.64px;"><img src="/content/wolumes/w14.png" style="width:652px; height:303px;"></div>
<div class="block image" style="left:6274px; top:556.64px;"><img src="/content/wolumes/w15.png" style="width:206px; height:367px;"></div>
<div class="block image" style="left:6048px; top:556.64px;"><img src="/content/wolumes/w16.png" style="width:206px; height:367px;"></div>
<div class="block image" style="left:9720px; top:1502.64px;"><img src="/content/wolumes/w17.png" style="width:1080px; height:684px;"></div>
<div class="block image" style="left:8659px; top:226.64px;"><img src="/content/wolumes/w18.png" style="width:1061px; height:697px;"></div>
<div class="block image" style="left:2299px; top:1499.64px;"><img src="/content/wolumes/w19.png" style="width:2021px; height:675px;"></div>
<div class="block image" style="left:3608px; top:254.64px;"><img src="/content/wolumes/w20.png" style="width:711px; height:385px;"></div>
<div class="block image" style="left:4344px; top:254.64px;"><img src="/content/wolumes/w21.png" style="width:597px; height:386px;"></div>
<div class="block image" style="left:4964px; top:252.64px;"><img src="/content/wolumes/w22.png" style="width:434px; height:387px;"></div>
<div class="block image" style="left:6480px; top:1495.64px;"><img src="/content/wolumes/w23.png" style="width:1125px; height:691px;"></div>
<div class="block image" style="left:10796px; top:226.64px;"><img src="/content/wolumes/w24.png" style="width:616px; height:303px;"></div>
<div class="block image" style="left:10896px; top:556.64px;"><img src="/content/wolumes/w25.png" style="width:516px; height:367px;"></div>
<div class="block image" style="left:10224px; top:226.64px;"><img src="/content/wolumes/w26.png" style="width:546px; height:303px;"></div>
<div class="block image" style="left:10224px; top:556.64px;"><img src="/content/wolumes/w27.png" style="width:648px; height:365px;"></div>
<div class="block image" style="left:11442px; top:65.64px;"><img src="/content/wolumes/w28.png" style="width:436px; height:857px;"></div>
<div class="block image" style="left:8768px; top:1678.64px;"><img src="/content/wolumes/w29.png" style="width:802px; height:508px;"></div>
<div class="block image" style="left:4427px; top:1499.64px;"><img src="/content/wolumes/w30.png" style="width:640px; height:478px;"></div>



<div class="block image" style="left:2353px; top:1844.64px;"><img src="/content/wolumes/learn_sq.png" style="width:78px; height:91px"></div>

<div class="block svg" style="left:496px; top:23px;"><img src="/content/wolumes/graph_c.svg" width="13050"></div>


<div class="block drag" style="left:10468px; top:1299.64px;"><img src="/content/wolumes/w32.png" style="width:1454; height:1081px"></div>
<div class="block drag" style="left:7417px; top:1362.64px;"><img src="/content/wolumes/w33.png" style="width:1513px; height:1048px"></div>
<div class="block drag" style="left:4136px; top:1358.64px;"><img src="/content/wolumes/w34.png" style="width:1455px; height:1071px"></div>
<div class="block drag" style="left:10607px; top:899.64px;"><img src="/content/wolumes/w35.png" style="width:443px; height:613px"></div>



</div>
</div>

<script>
const board=document.getElementById("board")
const viewport=document.getElementById("viewport")

let dragging=false
let startX=0
let startY=0
let offsetX=-1540
let offsetY=200
let scale=.4

let dragItem = null;
let dragStartX = 0;
let dragStartY = 0;
let itemStartLeft = 0;
let itemStartTop = 0;
const rotations = new WeakMap();


let touchDragItem = null;
let touchDragStartX = 0;
let touchDragStartY = 0;
let touchItemStartLeft = 0;
let touchItemStartTop = 0;



function centerOnSVG() {
  // ЖЁСТКО заданная геометрия SVG
  const svg = {
    left: 496,
    top: 23,
    width: 13050,
    height: 2236
  };

  const vw = viewport.clientWidth;
  const vh = viewport.clientHeight;

  // стартовый масштаб — под мобильный
  scale = 0.42;

  offsetX = vw / 2 - svg.left * scale - (svg.width  * scale) / 2;
  offsetY = vh / 2 - svg.top  * scale - (svg.height * scale) / 2;
}

function updateTransform(){
board.style.transform=`translate(${offsetX}px,${offsetY}px) scale(${scale})`
}

document.querySelectorAll(".block.drag").forEach(el => {
  el.addEventListener("mousedown", e => {
    e.stopPropagation(); // не двигаем холст
    dragItem = el;
    dragItem.classList.add("dragging");

    dragStartX = e.clientX;
    dragStartY = e.clientY;

    itemStartLeft = parseFloat(el.style.left) || 0;
    itemStartTop  = parseFloat(el.style.top)  || 0;
  });
});





window.addEventListener("mousemove", e => {
  if (!dragItem) return;

  const dx = (e.clientX - dragStartX) / scale;
  const dy = (e.clientY - dragStartY) / scale;

  dragItem.style.left = itemStartLeft + dx + "px";
  dragItem.style.top  = itemStartTop  + dy + "px";
});

window.addEventListener("mouseup", () => {
  if (!dragItem) return;
  dragItem.classList.remove("dragging");
  dragItem = null;
});

viewport.addEventListener("mousedown",e=>{
if(e.target.closest(".text"))return
dragging=true
startX=e.clientX-offsetX
startY=e.clientY-offsetY
viewport.style.cursor="grabbing"
})

window.addEventListener("mousemove",e=>{
if(!dragging)return
offsetX=e.clientX-startX
offsetY=e.clientY-startY
updateTransform()
})

window.addEventListener("mouseup",()=>{
dragging=false
viewport.style.cursor="grab"
})

viewport.addEventListener("wheel", e => {
  const dragBlock = e.target.closest(".block.drag");

  // если колесо над перетаскиваемым объектом — вращаем его
  if (dragBlock) {
    e.preventDefault();

    const delta = e.deltaY > 0 ? 5 : -5; // шаг вращения (градусы)
    const current = rotations.get(dragBlock) || 0;
    const next = current + delta;

    rotations.set(dragBlock, next);

    dragBlock.style.transform = `rotate(${next}deg)`;
    return;
  }

  // иначе — обычный зум холста
  e.preventDefault();

  const delta = e.deltaY > 0 ? 0.9 : 1.1;
  const prevScale = scale;
  scale *= delta;
  scale = Math.min(Math.max(scale, 0.2), 4);

  const rect = viewport.getBoundingClientRect();
  const cx = e.clientX - rect.left;
  const cy = e.clientY - rect.top;

  offsetX = cx - (cx - offsetX) * (scale / prevScale);
  offsetY = cy - (cy - offsetY) * (scale / prevScale);

  updateTransform();
}, { passive: false });

// Зумирование и перемещение на телефоне
let pinchStartDist = 0;
let pinchStartScale = 1;
let pinchCenterX = 0;
let pinchCenterY = 0;
let pinchBoardX = 0;
let pinchBoardY = 0;

let touchPanning = false;
let touchStartX = 0;
let touchStartY = 0;


function getTouchDist(touches) {
  const dx = touches[0].clientX - touches[1].clientX;
  const dy = touches[0].clientY - touches[1].clientY;
  return Math.hypot(dx, dy);
}

document.querySelectorAll(".block.drag").forEach(el => {
  el.addEventListener("touchstart", e => {
    if (e.touches.length !== 1) return;

    e.stopPropagation();
    e.preventDefault();

    touchDragItem = el;
    touchPanning = false;     // ВАЖНО

    touchDragStartX = e.touches[0].clientX;
    touchDragStartY = e.touches[0].clientY;

    touchItemStartLeft = parseFloat(el.style.left) || 0;
    touchItemStartTop  = parseFloat(el.style.top)  || 0;
  }, { passive: false });
});

function getTouchCenter(touches) {
  return {
    x: (touches[0].clientX + touches[1].clientX) / 2,
    y: (touches[0].clientY + touches[1].clientY) / 2
  };
}

viewport.addEventListener("touchstart", e => {

  // если палец на блоке — НИЧЕГО не делаем
  if (e.target.closest(".block.drag")) return;

  if (e.touches.length === 1) {
    touchPanning = true;
    pinchStartDist = 0;

    touchStartX = e.touches[0].clientX - offsetX;
    touchStartY = e.touches[0].clientY - offsetY;
  }

  if (e.touches.length === 2) {
    touchPanning = false;
    e.preventDefault();

    pinchStartDist = getTouchDist(e.touches);
    pinchStartScale = scale;

    const center = getTouchCenter(e.touches);
    pinchCenterX = center.x;
    pinchCenterY = center.y;

    pinchBoardX = (pinchCenterX - offsetX) / scale;
    pinchBoardY = (pinchCenterY - offsetY) / scale;
  }
}, { passive: false });


viewport.addEventListener("touchmove", e => {

// DRAG BLOCK
  if (touchDragItem && e.touches.length === 1) {
    e.preventDefault();

    const dx = (e.touches[0].clientX - touchDragStartX) / scale;
    const dy = (e.touches[0].clientY - touchDragStartY) / scale;

    touchDragItem.style.left = touchItemStartLeft + dx + "px";
    touchDragItem.style.top  = touchItemStartTop  + dy + "px";

    return; // важно — не даём канвасу двигаться
  }

  // PAN
  if (touchPanning && e.touches.length === 1) {
    e.preventDefault();

    offsetX = e.touches[0].clientX - touchStartX;
    offsetY = e.touches[0].clientY - touchStartY;

    updateTransform();
    return;
  }

  // PINCH
  if (e.touches.length === 2 && pinchStartDist) {
    e.preventDefault();

    const dist = getTouchDist(e.touches);
    const zoom = dist / pinchStartDist;

    scale = pinchStartScale * zoom;
    scale = Math.min(Math.max(scale, 0.15), 4);

    offsetX = pinchCenterX - pinchBoardX * scale;
    offsetY = pinchCenterY - pinchBoardY * scale;

    updateTransform();
  }
}, { passive: false });

viewport.addEventListener("touchend", e => {
  if (e.touches.length === 0) {
    touchDragItem = null;
    touchPanning = false;
    pinchStartDist = 0;
  }
}, { passive: false });

window.addEventListener("load", () => {
  centerOnSVG()
  updateTransform()
})

</script>


</body></html>